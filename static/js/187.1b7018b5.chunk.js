"use strict";(self.webpackChunkwallet_app=self.webpackChunkwallet_app||[]).push([[187],{2303:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r,i,o,a,c,l,s,d,u=t(885),x=t(2791),h=t(9434),p=t(4994),m=t(556),f=function(n){return n.categories.items},b=t(2982),g=t(168),j=t(6444),y=function(n){var e=n.type,t=n.theme.colors;switch(e){case"INCOME":return t.btGreen;case"EXPENSE":return t.btPink;default:return t.black}},w=j.ZP.table(r||(r=(0,g.Z)(["\n  width: 100%;\n  max-width: 320px;\n  margin: 0 auto;\n  border-collapse: collapse;\n  font-family: ",";\n  color: ",";\n\n  @media screen and (min-width: 768px) {\n    max-width: 704px;\n    text-align: center;\n  }\n  @media screen and (min-width: 1280px) {\n    margin-top: 46px;\n    margin-right: 0;\n    max-width: 715px;\n  }\n"])),(function(n){return n.theme.ff.familyExo}),(function(n){return n.theme.colors.black})),C=j.ZP.th(i||(i=(0,g.Z)(["\n  &:first-child {\n    border-radius: 30px 0 0 30px;\n  }\n  &:last-child {\n    border-radius: 0 30px 30px 0;\n  }\n  border: none;\n  background-color: ",";\n  text-align: ",";\n\n  padding: 16px 20px;\n\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.left?"left":"center"})),Z=j.ZP.tr(o||(o=(0,g.Z)(["\n  @media screen and (max-width: 767px) {\n    display: flex;\n    flex-direction: column;\n    &:not(:last-child) {\n      margin-bottom: 8px;\n    }\n    background-color: ",";\n    border-radius: 10px;\n    border-left: 5px solid ",";\n  }\n\n  position: relative;\n  font-size: 16px;\n  @media screen and (min-width: 768px) {\n    &:not(:last-child) {\n      &::after {\n        content: '';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: 100%;\n        border: 1px solid #dcdcdf;\n        box-shadow: 0px 1px 0px rgba(255, 255, 255, 0.6);\n      }\n    }\n  }\n"])),(function(n){return n.theme.colors.white}),y),v=j.ZP.td(a||(a=(0,g.Z)(["\n  @media screen and (max-width: 767px) {\n    display: flex;\n    justify-content: space-between;\n    flex-grow: 1;\n    width: 100%;\n    align-items: center;\n    &:not(:last-child) {\n      border-bottom: 1px solid #dcdcdf;\n    }\n  }\n  padding: 8px 20px;\n  height: 52px;\n  line-height: calc(18 / 16);\n  color: ",";\n  font-weight: ",";\n  text-align: ",";\n"])),y,(function(n){return n.type?"700":"400"}),(function(n){return n.left?"left":"center"})),k=j.ZP.span(c||(c=(0,g.Z)(["\n  color: ",";\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n"])),(function(n){return n.theme.colors.black})),S=j.ZP.span(l||(l=(0,g.Z)(["\n  @media screen and (max-width: 767px) {\n    text-align: end;\n    justify-content: end;\n  }\n  display: inline-flex;\n  margin-left: auto;\n  width: 130px;\n  max-height: 36px;\n  overflow: hidden scroll;\n  &::-webkit-scrollbar {\n    width: ",";\n  }\n  &::-webkit-scrollbar-track {\n    background-color: ",";\n    border-radius: 2px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 2px;\n  }\n  scrollbar-color: "," ",";\n"])),(function(n){return n.isScrollShown?"4px":"0"}),(function(n){return n.theme.colors.lPurple}),(function(n){return n.theme.colors.lBlue}),(function(n){return n.theme.colors.lBlue}),(function(n){return n.theme.colors.lPurple})),D=function(n){var e=new Date(n),t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString().slice(2);return"".concat(t,".").concat(r,".").concat(i)},E=t(5716),P=t(184),I=function(n){var e=n.transactions,t=n.categories,r=e.length>0&&t.length>0,i=(0,E.Z)("(max-width: 767px)"),o=(0,b.Z)(e).sort((function(n,e){return Date.parse(e.transactionDate)-Date.parse(n.transactionDate)}));return r&&(0,P.jsxs)(w,{children:[!i&&(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[(0,P.jsx)(C,{children:"Date"}),(0,P.jsx)(C,{children:"Type"}),(0,P.jsx)(C,{left:!0,children:"Category"}),(0,P.jsx)(C,{left:!0,children:"Comment"}),(0,P.jsx)(C,{children:"Sum"}),(0,P.jsx)(C,{children:"Balance"})]})}),(0,P.jsx)("tbody",{children:o.map((function(n){var e=n.id,r=n.transactionDate,o=n.type,a=n.categoryId,c=n.comment,l=n.amount,s=n.balanceAfter;return(0,P.jsxs)(Z,{type:o,children:[(0,P.jsxs)(v,{children:[i&&(0,P.jsx)(k,{children:"Date"}),D(r)]}),(0,P.jsxs)(v,{children:[i&&(0,P.jsx)(k,{children:"Type"}),"INCOME"===o?"+":"-"]}),(0,P.jsxs)(v,{left:!0,children:[i&&(0,P.jsx)(k,{children:"Category"}),t.find((function(n){return n.id===a})).name]}),(0,P.jsxs)(v,{left:!0,children:[i&&(0,P.jsx)(k,{children:"Comment"}),(0,P.jsx)(S,{isScrollShown:c.length>30,children:c})]}),(0,P.jsxs)(v,{type:o,children:[i&&(0,P.jsx)(k,{children:"Sum"}),Math.abs(l).toFixed(2)]}),(0,P.jsxs)(v,{children:[i&&(0,P.jsx)(k,{children:"Balance"}),s.toFixed(2)]})]},e)}))})]})},N=t(6053),F=t(5705),A=t(7103),M=t(1043),B=t(1799),q=t.n(B),O=(t(1778),function(n){var e=n.onClose,t=(0,h.v9)(f),r=(0,x.useState)(""),i=(0,u.Z)(r,2),o=i[0],a=i[1],c=(0,h.I0)(),l=A.Ry({amount:A.Rx("Please, enter only numbers").required("Amount is required")}),s=(0,F.TA)({initialValues:{type:!1,categoryId:"",comment:"",amount:""},validationSchema:l,onSubmit:function(n){var e=n.type,t=n.categoryId,r=n.comment,i=n.amount,a={transactionDate:o,type:e?"EXPENSE":"INCOME",categoryId:t||"063f1132-ba5d-42b4-951d-44011ca46262",comment:r,amount:e?-Number(i):Number(i)};console.log(a),c((0,M.dT)(a)),g()}}),d=s.handleSubmit,p=s.values,m=s.handleChange,b=s.errors,g=s.resetForm;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h2",{children:"Add transaction"}),(0,P.jsxs)("form",{onSubmit:d,autoComplete:"off",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:"Income"}),(0,P.jsx)("input",{type:"checkbox",name:"type",value:p.type,onChange:m}),(0,P.jsx)("span",{children:"Expense"})]}),p.type&&(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("select",{name:"categoryId",onChange:m,required:!0,children:t.reduce((function(n,e){return"INCOME"!==e.type&&n.push((0,P.jsx)("option",{value:e.id,children:e.name},e.id)),n}),[(0,P.jsx)("option",{value:"",children:"Select Category"},"1")])})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("input",{type:"text",placeholder:"0.00",name:"amount",value:p.amount,onChange:m,required:!0}),b.amount&&(0,P.jsx)("div",{children:b.amount}),(0,P.jsx)(q(),{type:"date",name:"transactionDate",value:p.transactionDate,onChange:function(n){a(n._d)}})]}),(0,P.jsx)("input",{type:"text",placeholder:"Comment",name:"comment",value:p.comment,onChange:m}),(0,P.jsx)("button",{type:"submit",children:"ADD"}),(0,P.jsx)("button",{type:"button",children:"CANCEL"}),(0,P.jsx)("button",{type:"button",onClick:e,children:(0,P.jsx)(N.nfZ,{})})]})]})}),T=t(8035),z=t(1413),_=t(4925),L=t(8820),R=["onClick"],X=(0,j.ZP)(L.Lfi)(s||(s=(0,g.Z)(["\n  width: 20px;\n  height: 20px;\n  fill: #fff;\n"]))),G=j.ZP.button(d||(d=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 100%;\n\n  position: fixed;\n  right: 40px;\n  bottom: 40px;\n  width: 44px;\n  height: 44px;\n\n  background: #24cca7;\n\n  box-shadow: 0px 6px 15px rgba(36, 204, 167, 0.5);\n\n  @media (max-width: 768px) {\n    right: 20px;\n    bottom: 20px;\n  }\n"]))),V=function(n){var e=n.onClick,t=(0,_.Z)(n,R);return(0,P.jsx)(G,(0,z.Z)((0,z.Z)({onClick:e},t),{},{children:(0,P.jsx)(X,{})}))},Y=function(){var n=(0,x.useState)(!1),e=(0,u.Z)(n,2),t=e[0],r=e[1],i=(0,E.Z)("(max-width: 767px)"),o=(0,h.v9)(m.Bt),a=(0,h.v9)(f),c=(0,h.I0)();(0,x.useEffect)((function(){c((0,p.C)())}),[c]);return(0,P.jsxs)(P.Fragment,{children:[i&&(0,P.jsx)(T.y,{}),(0,P.jsx)(I,{transactions:o,categories:a}),(0,P.jsx)(V,{type:"button",onClick:function(){r(!0)},children:"add transaction"}),t&&(0,P.jsx)(O,{onClose:function(){r(!1)}})]})}}}]);
//# sourceMappingURL=187.1b7018b5.chunk.js.map